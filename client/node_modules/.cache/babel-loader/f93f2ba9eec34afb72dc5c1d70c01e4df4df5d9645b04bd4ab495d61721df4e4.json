{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shaki\\\\workspaces\\\\my-VS-code-WS\\\\book-store\\\\client\\\\src\\\\pages\\\\Books.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport BookCard from '../components/BookCard';\nimport api from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Books = () => {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedGenre, setSelectedGenre] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  useEffect(() => {\n    const fetchBooks = async () => {\n      try {\n        const response = await api.get('/books');\n        setBooks(response.data);\n      } catch (err) {\n        setError('Error fetching books');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBooks();\n  }, []);\n  const genres = ['all', ...Array.from(new Set(books.map(book => book.genre)))];\n  const filteredBooks = books.filter(book => {\n    const matchesGenre = selectedGenre === 'all' || book.genre === selectedGenre;\n    const lower = searchQuery.toLowerCase();\n    const matchesSearch = book.title.toLowerCase().includes(lower) || book.author.toLowerCase().includes(lower);\n    return matchesGenre && matchesSearch;\n  });\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center py-20\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-red-600\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 flex flex-col sm:flex-row gap-4 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedGenre,\n        onChange: e => setSelectedGenre(e.target.value),\n        className: \"p-2 border rounded-md\",\n        children: genres.map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: g,\n          children: g\n        }, g, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 28\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value),\n        placeholder: \"Search by title or author\",\n        className: \"p-2 border rounded-md flex-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\",\n      children: filteredBooks.map(b => /*#__PURE__*/_jsxDEV(BookCard, {\n        id: b._id,\n        title: b.title,\n        author: b.author,\n        price: b.price,\n        coverImage: b.coverImage\n      }, b._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(Books, \"B/wPbTwcZg0ZPRrGg4IS4y88nk0=\");\n_c = Books;\nexport default Books;\nvar _c;\n$RefreshReg$(_c, \"Books\");","map":{"version":3,"names":["React","useState","useEffect","BookCard","api","jsxDEV","_jsxDEV","Books","_s","books","setBooks","loading","setLoading","error","setError","selectedGenre","setSelectedGenre","searchQuery","setSearchQuery","fetchBooks","response","get","data","err","genres","Array","from","Set","map","book","genre","filteredBooks","filter","matchesGenre","lower","toLowerCase","matchesSearch","title","includes","author","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","g","placeholder","b","id","_id","price","coverImage","_c","$RefreshReg$"],"sources":["C:/Users/shaki/workspaces/my-VS-code-WS/book-store/client/src/pages/Books.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport BookCard from '../components/BookCard';\r\nimport api from '../api';\r\n\r\ninterface Book {\r\n  _id: string;\r\n  title: string;\r\n  author: string;\r\n  description: string;\r\n  price: number;\r\n  coverImage?: string;\r\n  genre: string;\r\n}\r\n\r\nconst Books: React.FC = () => {\r\n  const [books, setBooks] = useState<Book[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [selectedGenre, setSelectedGenre] = useState('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchBooks = async () => {\r\n      try {\r\n        const response = await api.get('/books');\r\n        setBooks(response.data);\r\n      } catch (err) {\r\n        setError('Error fetching books');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBooks();\r\n  }, []);\r\n\r\n  const genres = ['all', ...Array.from(new Set(books.map(book => book.genre)) )];\r\n\r\n  const filteredBooks = books.filter(book => {\r\n    const matchesGenre = selectedGenre === 'all' || book.genre === selectedGenre;\r\n    const lower = searchQuery.toLowerCase();\r\n    const matchesSearch = book.title.toLowerCase().includes(lower) || book.author.toLowerCase().includes(lower);\r\n    return matchesGenre && matchesSearch;\r\n  });\r\n\r\n  if (loading) return <div className=\"flex justify-center py-20\">Loading...</div>;\r\n  if (error) return <div className=\"text-red-600\">{error}</div>;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-6 flex flex-col sm:flex-row gap-4 items-center\">\r\n        <select value={selectedGenre} onChange={(e) => setSelectedGenre(e.target.value)} className=\"p-2 border rounded-md\">\r\n          {genres.map(g => <option key={g} value={g}>{g}</option>)}\r\n        </select>\r\n        <input value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} placeholder=\"Search by title or author\" className=\"p-2 border rounded-md flex-1\" />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        {filteredBooks.map(b => (\r\n          <BookCard key={b._id} id={b._id} title={b.title} author={b.author} price={b.price} coverImage={b.coverImage} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Books;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}